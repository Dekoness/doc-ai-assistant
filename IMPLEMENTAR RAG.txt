â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         TU APLICACIÃ“N                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â†“
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  1. USUARIO PREGUNTA  â”‚
         â”‚  "Â¿CuÃ¡l es la polÃ­ticaâ”‚
         â”‚   de devoluciones?"   â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  2. AZURE AI SEARCH (Free Tier)        â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
    â”‚  â”‚ Ãndice de documentos:            â”‚  â”‚
    â”‚  â”‚ - politicas_empresa.txt          â”‚  â”‚
    â”‚  â”‚ - FAQ_productos.md               â”‚  â”‚
    â”‚  â”‚ - manual_usuario.pdf             â”‚  â”‚
    â”‚  â”‚ - preguntas_frecuentes.docx     â”‚  â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
    â”‚  Busca: "polÃ­tica devoluciones"        â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  3. RECUPERA FRAGMENTOS RELEVANTES     â”‚
    â”‚  "Las devoluciones se aceptan en 30    â”‚
    â”‚   dÃ­as con recibo..."                  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  4. GPT-4.1-MINI recibe:               â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
    â”‚  â”‚ System: "Eres asistente experto" â”‚  â”‚
    â”‚  â”‚ Context: [fragmentos de docs]    â”‚  â”‚
    â”‚  â”‚ User: "Â¿polÃ­tica devoluciones?"  â”‚  â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
    â”‚  Genera respuesta contextualizada      â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  5. RESPUESTA AL USUARIO               â”‚
    â”‚  "SegÃºn nuestra polÃ­tica, puedes       â”‚
    â”‚   devolver productos en 30 dÃ­as..."    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ“ Tareas en Azure Portal:
â”œâ”€â”€ 1. Crear Azure AI Search (Free Tier)
â”‚   â””â”€â”€ Portal â†’ Create Resource â†’ "Azure Cognitive Search" â†’ Free tier
â”‚
â”œâ”€â”€ 2. Crear Storage Account para tus documentos
â”‚   â””â”€â”€ Portal â†’ Create Storage â†’ Standard LRS
â”‚
â”œâ”€â”€ 3. Configurar Indexer (importador de datos)
â”‚   â””â”€â”€ AI Search â†’ Import data
â”‚       â”œâ”€â”€ Data source: Azure Blob Storage
â”‚       â”œâ”€â”€ Select container: knowledge-base
â”‚       â”œâ”€â”€ Enable AI enrichment: âœ…
â”‚       â”‚   â””â”€â”€ OCR + Text extraction (gratis)
â”‚       â””â”€â”€ Create index + indexer
â”‚
â””â”€â”€ 4. Agregar variables de entorno en Static Web App
    â”œâ”€â”€ SEARCH_SERVICE_NAME
    â”œâ”€â”€ SEARCH_API_KEY
    â””â”€â”€ SEARCH_INDEX_NAME

ğŸ“ Tareas en VS Code:
â”œâ”€â”€ 1. Instalar librerÃ­a de AI Search
â”‚   â””â”€â”€ pip install azure-search-documents
â”‚
â”œâ”€â”€ 2. Modificar __init__.py para integrar bÃºsqueda
â”‚   â””â”€â”€ Agregar funciÃ³n search_knowledge_base()
â”‚
â”œâ”€â”€ 3. Actualizar requirements.txt
â”‚   â””â”€â”€ Agregar azure-search-documents
â”‚
â””â”€â”€ 4. Subir tus documentos a Blob Storage
    â””â”€â”€ Usar Azure Storage Explorer o CLI

â„¹ï¸ Recursos utilizados:
1. Azure AI Search (FREE)
   â”œâ”€â”€ Name: search-federico-kb
   â”œâ”€â”€ Pricing tier: Free
   â””â”€â”€ âœ… COSTE: â‚¬0/mes

2. Storage Account (BASIC)
   â”œâ”€â”€ Name: storagefedericokb
   â”œâ”€â”€ Performance: Standard
   â”œâ”€â”€ Redundancy: LRS
   â””â”€â”€ ğŸ’° COSTE: ~â‚¬0.20/mes

3. Blob Container
   â””â”€â”€ Name: knowledge-base

EN __init__.py
# Nueva funciÃ³n de bÃºsqueda
def search_knowledge_base(query, search_client):
    # Busca en tus documentos
    # Devuelve los 3 fragmentos mÃ¡s relevantes
    pass

# Modificar call_openai_with_context()
# Inyecta los fragmentos encontrados en el prompt

Configuration â†’ Environment variables:
â”œâ”€â”€ SEARCH_ENDPOINT=https://search-federico-kb.search.windows.net
â”œâ”€â”€ SEARCH_KEY=[tu-admin-key]
â””â”€â”€ SEARCH_INDEX_NAME=knowledge-base-index


